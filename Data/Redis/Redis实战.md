# Redis实战 #

## 第1章 初识Redis ##

### 1.1 Redis简介 ###

#### 1.1.1 Redis与其他数据库和软件的对比 ####

#### 1.1.2 附加特性 ####

#### 1.1.3 使用Redis的理由 ####

### 1.2 Redis数据结构简介 ###

#### 1.2.1 Redis的字符串 ####

#### 1.2.2 Redis中的列表 ####

#### 1.2.3 Redis的集合 ####

#### 1.2.4 Redis的散列 ####

#### 1.2.5 Redis的有序集合 ####

### 1.3 你好 Redis ###

#### 1.3.1 对文章进行投票 ####

## 第2章 使用Redis构建Web应用 ##

一个Web服务器对请求进行响应：

1. 服务器对客户端发来的请求（request）进行解析。
2. 请求被转发给预定义的处理器（handler）。
3. 处理器可能会从数据库中取出数据。
4. 处理器根据据取出的数据对模板（template）进行渲染（render）。
5. 处理器向客户端返回渲染后的内容作为对请求的响应（reponse）。

### 2.1 登录和cookie缓存 ###

思路：

1. 将使用一个散列来存储登录cookie令牌与已登录用户之间的映射。要检查一个用户是否已经登录。
2. 用户每次浏览页面的时候，程序员都会对用户存储在登录散列里面的信息进行更新，并将用户的令牌和当前时间撮添加到记录最近登录用户的有序集合里面；如果用户正在浏览的是一个商品页面，那么程序还会将这个商品添加到记录这个用户最近浏览过的商品的有序集合里面，并在被记录商品的数量超过25个时，对这个有序集合进行修剪。

### 2.2 使用Redis实现购物车 ###

每个用户的购物车都是一个散列，这个散列存储了商品ID与商品订购数量之间的映射。对商品数量进行验证的工作由Web应用程序负责，在商品发生变化时，对购物车进行更新。

### 2.3 网页缓存 ###

### 2.4 数据行缓存 ###

编写一个持续运行的守护进程函数，让这个函数将指定的数据行缓存到Redis里面，并不定期地对这些缓存进行更新。

程序是用了两个有序集合来记录应该在何时对缓存进行更新：第一个有序集合为调度（schedule）有序集合，它的成员为数据行的行ID，而分支则是一个时间戳；第二个有序集合为延时（delay）有序集合，它的成员也是数据行的行ID，而分值则记录了指定数据行的缓存需要每隔多少秒更新一次。

使用JSON而不是其他格式，嵌套多个结构。

### 2.5 网页 ###



## 附录 ##

python redis客户度

	import redis
	
	conn = redis.Redis()
	print(conn.set("hello", "world"))
	print(conn.get("hello"))
