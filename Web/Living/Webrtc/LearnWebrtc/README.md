# Learning WebRTC #

## 第一章 WebRTC之旅 ##

### 1 开启WebRTC之旅 ###

#### 自测题 ####

Q1 对 Q2 3 Q3 错 Q4 4

## 第二章 获取用户媒体 ##

#### 访问媒体设备 ####

#### 配置静态服务器 ####

## 第三章 创建简单的WebRTC应用 ##

### 1. 理解UDP传输协议和实时传输 ###

UDP，TCP

* 任何送出的数据都有送达的确认
* 任何未到达接收端的数据都会重传并停止发送更多的数据
* 数据是唯一的，接收端不会有重复的数据

#### WebRTC API ####

* RTCPeerConnection对象
* 信号传递和交涉
* 会话描述协议（SDP）
* 交互式连接建立（ICE）

#### RTCPeerConnection对象 ####

RTCPeerConnection对象是WebRTC API的主入口。

RTCPeerConnection对象的功能是维护浏览器内会话和对等连接的状态。

	var myConnection = new RTCPeerConnection(configuration);
	myConnection.onaddstream = function(state) {
		// 在此处使用stream参数
	};

#### 信号传递和交涉 ####

发送信令的过程由以下：

1. 为一个对等连接创建潜在的候选列表
2. 用户或计算机算法将选择一个用户去连接
3. 信令层将通知那个用户有人想要连接他/她，用户可以选择接受或拒绝。
4. 当连接的请求被接受时，第一个用户会被通知。
5. 若接受，第一个用户将初始化RTCPeerConection。
6. 双方将通过信令通道交换各自电脑的硬件和软件信息
7. 双方将通过信令通道交互各自电脑的位置信息。
8. 用户之间的连接将成功或失败。

#### 会话描述协议（SDP） ####

SDP是由浏览器提供的基于字符串的二进制数据对象。这种字符串的形式是一系列键值对，由换行符分隔：

	<key>=<value>\n
key是一个单字符，用来表明值的类型。value是由机器可读的配置项组成的有结构的一组文本。不同的键值对将由换行符分隔。

SDP涵盖一个指定用户的描述、时间配置和对媒体的限制。

### 找到一条清晰的路线到其他用户 ###

* **NAT会话穿透工具（STUN）**
* 使用中继技术穿透NAT（TURN）
* 交互式连接建立（ICE）

####  NAT 会话穿透工具（STUN）  ####



### 创建一个基本的WebRTC应用 ###

* 创建一个RTCPeerConnection
* 创建SDP offer和回应
* 为双方找到ICE候选路径
* 创建一个成功的WebRTC连接

**创建一个RTCPeerConnection**

	var myConnection = new RTCPeerConnection(configuration);
	myConnection.onaddstream = function(Stream) {
		// 在此处使用stream参数
	};

信号传递和交涉

### 寻找ICE候选路径 ###

### 运行你的第一个WebRTC应用 ###

## 第4章 创建信令服务器 ##

### 构建信令服务器 ###

### 搭建开发环境 ###

### 获得一个连接 ###

WebSockets 在两个终端间——浏览器和网络服务器间的一个双向socket连接。利用socket以字符串和二进制码方式双向发送信息。

WebSocket协议和WebRTC协议最大的不同是在TCP堆栈的使用上。WebSockets被设计成是一个客户都按到服务器端使用TCP传输协议来建立可靠连接的协议。

### 测试我们的服务器 ###

### 识别用户 ###

#### 发起通话 ####

#### 呼叫应答 ####

### 处理ICE候选路径 ###

WebRTC信令的最后一部分是在用户间处理ICE候选路径。

#### 呼叫挂断 ####

### 完成信令服务器 ###

### 在实际应用中发送信令 ###

## 第5章 把客户端连接到一起 ##

* 从客户都按获取到服务器的连接
* 识别各个连接端的用户
* 两个远程用户发起通话
* 结束通话

### 客户端应用 ###

### 获取一个连接 ###

1. 与信令服务器创建连接

### 客户端应用 ###

### 登陆到应用程序 ###

### 开始一个对等连接 ###

startConnection方法是任何WebRTC连接的第一步。

1. 从相机中获取视频流
2. 验证用户的浏览器是否支持WebRTC
3. 创建RTCPeerConnection对象

### 发起通话 ###

### 检测通信 ###

### 挂断电话 ###

### 一个完整的WebRTC客户端 ###



## 第6章 使用WebRTC发送数据 ##

### 流控制传输协议和数据传输 ###

### RTCDataChannel对象 ###

* 连接中：这事默认状态，当数据通道等待一个连接。
* 开启：这种状态下，连接已经被建立，可以进行通信。
* 关闭中：通道正在被销毁。
* 关闭：这种状态下，通道关闭，无法进行通信。

### 数据通道选项 ###

## 第7章 文件共享 ##

### 使用文件API拾取文件 ###

### 准备我们的页面 ###

### 获取对文件的引用 ###

### 文件分块 ###
