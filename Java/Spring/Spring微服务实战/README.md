# Spring微服务实战

## 第1章 欢迎迈入云世界，Spring

### 1.1 什么是微服务

### 1.10 使用Spring Cloud构建微服务

#### 1.10.1 Spring Boot

## 第2章 使用Spring Boot构建微服务

**本章主要内容**

1. 学习微服务的关键特征
2. 了解微服务如何适应云架构

### 2.1 架构师的故事：设计微服务架构

1. 分解业务问题
2. 建立服务粒度
3. 定义服务接口

#### 2.1.1 分解业务问题

将业务问题识别和分别为备选的微服务

1. 描述业务问题，并聆听用来描述问题的名词
2. 注意动词。动词突出了动作，通常代表问题域的自然轮廓。
3. 寻找数据内聚。

#### 2.1.2 建立服务粒度

* 资产
* 许可证
* 合同
* 组织

构建微服务架构时，粒度的问题很重要，可以采用以下思想来确定正确的解决方案。

1. 开始的时候可以让微服务涉及的范围更广泛一些，然后将其重构到更小分服务
2. 重点关注服务如何相互交互
3. 随着对问题域的理解不断增长，服务的职责将随着时间的退役而改变

#### 2.1.3 相互交流：定义服务接口

1. 拥抱REST的理念
2. 使用URI来传达意图
3. 请求和响应使用JSON
4. 使用HTTP状态码来传达结果

### 2.2 合适不应该使用微服务



#### 2.2.1 构建分布式系统的复杂性



#### 2.2.2 服务器散乱



#### 2.2.3 应用程序的类型



#### 2.2.4 数据事务和一致性





### 2.3 开发人员的故事：用Spring Boot和Java构建微服务



#### 2.3.1 从骨架项目开始

* controllers
* model
* resources
* services

#### 2.3.2 引导Spring Boot应用程序：编写引导类

* 一个Spring引导类，可被Spring Boot用于启动和初始化应用程序。
* 一个Spring控制器类，用来公开可以被微服务调用的HTTP端点。

#### 2.3.3 构建微服务的入口：Spring Boot控制器

* 遵循REST
* 使用HTTP作为服务的调用协议
* 将服务的行为映射到标准HTTP动词
* 使用JSON作为进出服务的所有数据的序列化格式
* 使用HTTP状态码来表达服务调用的状态

### 2.4 DevOps工程师的故事：构建运行时的严谨性

对于DevOps工程师来说，微服务的设计关乎在投入生产如何管理服务，编写代码通常是很简单的，而保持代码运行却是困难的。

1. 
2. 

#### 2.4.1 服务装配：打包和部署微服务



#### 2.4.2 服务引导：管理微服务的配置



#### 2.4.3 服务注册和发现：客户端如何与微服务通信



#### 2.4.4 传达微服务的“健康状况”



### 2.5 将视角综合起来



1. 架构师
2. 软件工程师
3. DevOps工程师



### 2.6 小结

* 想要微服务获得成功，需要综合架构师、软件开发人员和DevOps的视角。
* 从架构师的角度来看，微服务是小型的、独立的和分布式的。微服务应具有狭窄的边界，并管理一小组数据。
* 从开发人员的角度来看，微服务通常使用REST风格的设计构建，JSON作为服务发送和接收数据的净荷。
* 从DevOps的角度来看，微服务如何打包、部署和监控至关重要。

## 第3章 使用Spring Cloud配置服务器控制配置