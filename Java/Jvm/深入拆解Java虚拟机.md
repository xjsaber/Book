# 深入拆解Java虚拟机 #

## 01 | Java代码是怎么运行的？ ##

## 02 | Java的基本类型 ##

Java，8个基本类型

### Java虚拟机的boolean类型 ###

### Java的基本类型 ###

|类型|值域|默认值|虚拟机内部符号|
|--|--|--|--|
|boolean|{false,true}|false|Z|
|byte|[-128,127]|0|B|
|short|[-32768,32767]|0|S|
|char|[0,65535]|'\u0000'|C|
|int|[-2^31,2^31-1]|0|I|
|long|{-2^64,2^64-1}|0L|J|
|float|~[3.4E38,3.4E38]|+0.0F|F|
|double|~[1.8E308,1.8E308]|+0.0D|D|

基本类型中，boolean和char是唯二的无符号类型。

### Java的基本类型的大小 ###

Java虚拟机每调用一个Java方法，便会创建一个栈帧。

这个栈帧有两个主要部分，分别是局部变量区，以及字节码的操作数栈。

在Java虚拟机规范中，局部变量区等价于一个数组，并且用正整数来索引。除了long、double值需要两个数组单元来存储之外，其他基本类型以及引用类型的值均占用一个数组单元。

### 总结与实践 ###

boolean类型在Java虚拟机中被映射为整数类型。“true”被映射为1，而“false”被映射为0。Java代码中的逻辑运算以及条件跳转，都是用整数相关的字节码来实现的。

除long和double外，其他基本类型与引用类型在解释执行在方法栈中占用的大小是一致的，但它们在堆中占用的大小却不同。在将boolean、byte、char以及short的值存入字段或者数组单元时，Java虚拟机会进行掩码操作。在读取时，Java虚拟机则会将其扩展为int类型。

## 03 | Java虚拟机是如何加载Java类的 ##

加载、链接以及初始化

Java将其细分为四种：类、接口、数组类和泛型参数。

### 加载 ###

加载：是指查找字节流，并且据此创建类的过程。根据ch2，对于数组类来说，它并没有对应的字节流，而是由Java虚拟机直接生成的。对于其他类来说，Java虚拟机则需要借助类加载器来完成查找字节流的过程。

启动类加载器，另外两个重要的类加载器是扩展类加载器（extension class loader）和应用类加载器（application class loader）

扩展类加载器的父类是启动类加载器。它负责加载相对次要、但又通用的类

应用类加载器的父类是扩展类加载器。

### 链接 ###

### 初始化 ###

### 总结与实践 ###



## 04 | JVM是如何执行方法调用的（上） ##

## 05 | JVM是如何执行方法调用的（下） ##



