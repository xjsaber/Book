# 分布式系统：概念与设计 #

# 第1章 分布式系统的特征 #

## 1.1 简介 ##

并发

缺乏全局时钟

故障独立性

## 1.2 分布式系统的例子 ##

### 1.2.1 Web搜索 ###

### 1.2.2 大型多人在线游戏 ###

### 1.2.3 金融交易 ###

分布式基于事件的系统。

## 1.3 分布式系统的趋势 ##

### 1.3.1 泛在联网和现代互联网 ###

## 1.4 关注资源共享 ##

## 1.5 挑战 ##

### 1.5.1 异构型 ###

中间件

异构型和移动代码

### 1.5.2 开放性 ###

* 发布系统的关键接口是开放系统的特征
* 开放的分布式系统是基于一致的通信机制和发布接口
* 开放的分布式系统能用不同销售商提供的异构硬件和软件构造，但是如果想让系统正确工作，就要仔细测试和验证每个组建与发布的标准之间的一致性。

### 1.5.3 安全性 ###

机密性（防止泄露给未授权的个人）、完整性（防止被改变或被破坏）、可用性（防止对访问资源的手段的干扰）

* 拒绝服务攻击：大量无意义的请求攻击服务，使得重要的用户不能使用它。被成为拒绝服务攻击。
* 移动代码的安全性： 移动代码需要小心处理。

### 1.5.4 可伸缩性 ###

* 控制物理资源的开销：
* 控制性能损失
* 防止软件资源耗尽
* 避免性能瓶颈

### 1.5.5 故障处理 ###

检测故障：

掩盖故障：有些被检测到的故障被隐藏起来或降低它的严重程度

1. 消息在不能到达时进行重传
2. 将文件数据写入两个磁盘，如果一个磁盘损坏，那么另一个磁盘的数据仍是正确的。

容错：

故障恢复：恢复涉及软件的设计，以便在服务器崩溃后，永久书的状态能被恢复或“回滚”。通常，在出现错误时，程序完成的计算是不完整的，被更新的永久数据（文件和其他泊岸村在永久存储介质中的资料）可能处在不一致的状态。

冗余：利用冗余组件，服务可以实现容错。

1) 在互联网的任何两个路由器之间，至少应该存在两个不同的路由。
2）在域名系统中，每个名字表至少被复制到两个不同的服务器上。
3）数据库可以被复制到两个服务器上，以保证在任何一个服务器出现故障后数据仍是可访问的。

### 1.5.6 并发性 ###

在分布式系统中，代表共享资源的任何一个对象必须负责确保它在并发环境中操作正确，不仅用于服务器，也适用于应用中的对象。

### 1.5.7 透明性 ###

透明性被定义成对用户和应用程序员屏蔽分布式系统的分离性，使系统被认为是一个整体，而不是独立组件的集合。

* 访问透明性：用相同的操作访问本地资源和远程资源。
* 位置透明性：不需要知道资源的物理或网络位置（例如，哪个建筑物或IP地址）就能够访问它们
* 并发透明性：几个进程能并发地使用共享资源进行操作且互不干扰。
* 故障透明性：屏蔽错误，无论是硬件组件故障还是软件组件故障，用户和应用程序都能够完成它们的任务。
* 移动透明性：资源和客户能够在系统内移动而不会影响用户或程序的操作。
* 性能透明性：当负载变化时，系统能被重新配置以提高性能。
* 伸缩透明性：系统和应用能够进行扩展而不改变系统结果或应用算法。

最重要的两个透明性是访问透明性和位置透明性。

### 1.5.8 服务质量 ###

可靠性、安全性和性能

Qos用于指系统满足这样的截止时间的能力，它的实现取决于所需要的计算和网络资源在相应时刻的可用性。

## 1.6 实例研究：万维网 ##

## 1.7 小结 ##

* 异构型：分布式系统必须由多种不同的网络、操作系统、计算机硬件和编程语言组成。互联网通信协议屏蔽了网路哦的差异，中间性能处理其他的差异。
* 开放性：分布式系统应该是可扩展的——第一步是发布组件的接口，但由不同程序员编写的组件的集成是一个真正的挑战。
* 安全性：加密用于为共享资源提供充分的保护，在网络上用消息传送敏感信息时，可以通过加密的手段来保护敏感信息。服务拒绝攻击仍然是一个问题。
* 可伸缩性：就必须要增加的资源而言，如果分布式系统增加一个用户的开销是一个常量，那么这个分布式系统是可伸缩的。用于访问共享数据的算法应该避免性能瓶颈，数据应该组织成层次化的结构以获得最好的访问时间。频繁访问的数据应该能复制。
* 故障处理：任一进程、计算机或网络都可能独立地出现故障。
* 并发性：分布式系统中多个用户的存在是对资源产生并请求的根源。每个资源必须被设计成在并发环境中是安全的。
* 透明性：此特性的目的是为了保证分布的某些方面对应用程序不可见，这样应用程序员只需要关心特定应用的设计问题。
* 服务质量：在分布式系统中仅提供对服务的访问是不够的。

## 第2章 系统模型 ##

### 2.1 简介 ###

* 物理模型是描述系统的一个最显式的方法，它从计算机（和其他设备，例如移动电话）及其互联的网络方面考虑的硬件组成。
* 体系结果模型从系统的计算元素执行的计算和通信任务方面来描述系统。
* 基础模型采用抽象的观点描述分布式系统的某个方面。

**分布式系统的困难和威胁**

* 使用模式的多样性：系统的组件会承受各种工作负载
* 系统环境的多样性：分布式系统必须能容纳异构的硬件、操作系统和网络。网络可能在性能上有很大的不同。
* 内部问题：包括非同步的时钟、冲突的数据更新、多种涉及系统单个组件的软硬件故障模式。
* 外部威胁：包括对数据完整性、保密性以及

## 2.2 物理模型 ##

* 基线物理模型
* 早起的分布式系统
* 互联网规模的分布式系统
* 当代的分布式系统

## 2.3 体系结构模型 ##

### 2.3.1 体系结构元素 ###

* 在分布式系统中进行通信的实体是什么？
* 它们如何通信，特别是使用什么通信范式