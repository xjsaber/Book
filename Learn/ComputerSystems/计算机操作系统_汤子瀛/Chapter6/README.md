# 第6章 输入输出系统 #

## 6.1 I/O系统的功能、模型和接口 ##

### 6.1.1 I/O系统的基本功能 ###

####  1.隐藏物理设备的细节  ####
I/O设备的类型非常多，且彼此间在多方面都有差异。为了对这些千差万别的设备进行控制，通常都为他们配置相应的设备控制器。
#### 2.与设备的无关性 ####
隐藏物理设备的细节，在早期的OS中就已实现，它可方便用户对设备的使用。
####  3. 提高处理机和I/O设备的利用率  ####
在一般地系统中，许多I/o设备间是相互独立地，能够进行操作，在处理机与设备间也能并行操作。
#### 4.对I/O设备进行空值 ####
对I/O设备进行空值是驱动程序地功能。目前对I/O设备有四种控制方式：
采用轮询地可编程I/O方式；采用中断地可编程I/O方式；直接存储器访问方式；I/O通道方式。
#### 5.确保对设备的正确共享  ####
设备的共享属性
(1)独占设备，进程应互斥地访问这类设备，即系统一旦把这类设备分配给了某进程后，便由该进程独占，直至用完释放。
(2)共享设备，是指在一段时间内允许多个进程同时访问地设备。
#### 6.错误处理 ####

### 6.1.2 I/O系统的层次结构和模型 ###

#### 1.I/O软件的层次结构 ####
四个层次
(1)用户层I/O软件
(2)设备独立性软件
(3)设备驱动程序，与硬件直接相关。
(4)中断处理软件

#### 2.I/O系统中各种模块之间的层次视图 ####
1）I/O系统的上、下接口
（1）I/O系统接口
（2）软件/硬件(RW/HW)接口
2）I/O系统的分层
（1）中断处理程序
（2）设备驱动程序
（3）设备独立性软件
现代OS中的I/O系统基本上都实现了与设备无关性，也称为与设备无关的软件。其基本含义是：I/O软件独立于具体使用的物理设备。由此带来的最大好处是，提高了I/O系统的可适应性和可扩展性。

### 6.1.3 I/O系统接口 ###
块设备接口、流设备接口和网络接口。
#### 1.块设备接口 ####
块设备接口是块设备管理程序与高层之间的接口。