# 第二章 #

## 2.1 前趋图和程序执行 ##

### 2.1.1 前趋图 ###
先后顺序的前趋图（Precedence Graph），是指一个有向无循环图，可记为DAG(Directed Acyclic Graph)，它用于描述进程之间的执行的先后顺序。

### 2.1.2 程序顺序执行 ###
#### 1.程序的顺序执行 ####
一个应用程序由若干个程序段组成，每一个程序段完成特定的功能，它们在执行时，都需要按照某种先后次序顺序执行，仅当前一个程序段执行完后，才运行后一程序段。

#### 2.程序顺序执行时的特征 ####
在程序顺序执行时，具有三个特征：顺序性：
封闭性 
可再现性

### 2.1.3 程序并发执行 ###

#### 1.程序的并发执行 ####

#### 2.程序并发执行时的特征 ####
虽然提高了系统的吞吐量和资源利用率，但由于共享了系统资源，以及它们为完成同一项任务而相互合作，致使在这些并发执行的程序之间必将形成相互制约的关系，由此会给程序并发执行带来新的特征。
（1）间断性

（2）失去封闭性

（3）不可再现性

## 2.2 进程的描述 ##

### 2.2.1 进程的定义和特征 ###
#### 1.进程定义 ####
为了使参与并发执行的每个程序（含数据）都能够独立地运行，在操作系统中必须为之配置一个专门的数据结构，称为进程控制块（Process Control Block，PCB）。程序利用PCB来描述进程的基本情况和活动过程，进而控制和管理进程。由**程序段**、**相关的数据段**和**PCB**三部分构成了进程实体（又称进程映像）。
#### 2.进程的特征 ####
动态性
并发性
独立性
异步性
### 2.2.2 进程的基本状态及转换 ###
#### 1.进程的三种基本状态 ####
(1)就绪(Ready)状态

(2)执行(Running)状态

(3)阻塞(Block)状态

#### 2.三种基本状态的转换 ####

#### 3.创建状态和终止状态 ####
创建状态和终止状态

#### 1)创建状态 ####

#### 2)终止状态 ####
进程的终止通过两个步骤：首先，是等待操作系统进行善后处理，最后将其PCB清零，并将PCB空间返还系统。

### 2.2.3 挂起操作和进程状态的转换 ###

#### 1.挂起操作的引入 ####

## 2.6 线程 ##

### 2.6.1 线程的基本概念 ###

#### 1.线程的引入 ####
进程是一个可拥有资源的独立单位
进程同时又是一个可独立调度和分派的基本单位。
1）创建进程
系统在创建一个进程时，必须为它分配其所必须的、除处理机以外的所有资源，如内存空间、I/O设备，以及建立相应的PCB。
2）撤销进程
系统在撤销进程时，又必须先对其所占用的资源执行回收操作，然后再撤销PCB。
3）进程切换
对进程进行切换时，由于要保留当前进程的CPU环境和设置新选中进程的CPU环境，因而须话费不少的处理机时间。
#### 2.线程与进程的比较 ####
1）调度
2）并发性
3）拥有资源
4）系统开销
#### 3.线程的属性 ####
（1）轻型实体。

（2）独立调度和分派的基本单位。

（3）可并发执行

（4）共享进程资源
在同一进程中的各个线程都可以共享该进程所拥有的资源。

#### 4.线程的状态 ####
（1）状态参数
（2）线程运行状态。执行状态，就绪状态，阻塞状态
#### 5.线程的创建和终止 ####

#### 6.多线程OS中的进程 ####

### 2.6.2 线程间的同步和通信 ###

#### 1.互斥锁(mutex) ####
互斥锁匙一种比较简单的、用于实现线程间对资源互斥访问的机制。

#### 2.条件变量 ####
当某线程需利用信号量来实现同一进程中各线程之间的同步时，可调用创建信号量的命令来创建一私有信号量，其数据结构存放在应用程序的地址空间中。
#### 3.信号量机制 ####
1）私有信号量（private samephore）
当某线程需利用信号量来实现同一进程中线程之间的同步时，可调用创建信号量的命令来创建一私用信号量，其数据结构存放在
2）公用信号量（public semaphort）
公用信号量是为实现不同进程间或不同进程中各线程之间的同步而设置的。

### 2.6.3 线程的实现方式 ###

#### 1.内核支持线程 ####

#### 2.用户级线程 ####

#### 3.组合方式 ####

### 2.6.4 线程的实现 ###

#### 1.内核支持线程的实现 ####
所谓“运行时系统”，实质上是用于管理和控制线程的函数（过程）的集合，其中包括用于创建和撤销线程的函数、线程同步和通信的函数以及实现线程调度的函数等。
#### 2.用户级线程的实现 ####